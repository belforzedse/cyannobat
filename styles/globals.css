@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: 'Peyda';
  src: url('/fonts/peyda-regular.woff2') format('woff2');
  font-weight: 400;
  font-display: swap;
}

@font-face {
  font-family: 'Peyda';
  src: url('/fonts/peyda-medium.woff2') format('woff2');
  font-weight: 500;
  font-display: swap;
}

@font-face {
  font-family: 'Peyda';
  src: url('/fonts/peyda-bold.woff2') format('woff2');
  font-weight: 700;
  font-display: swap;
}

:root {
  --color-bg: #edf3ff;
  --color-fg: #2c3a4c;
  --color-muted: #dae6f7;
  --color-muted-foreground: #4e5e78;
  --color-card: #ffffff;
  --color-card-12: #ffffff1f;
  --color-card-92: #ffffffeb;
  --color-card-90: #ffffffe6;
  --color-card-88: #ffffffe0;
  --color-card-85: #ffffffd9;
  --color-card-82: #ffffffd1;
  --color-card-78: #ffffffc7;
  --color-card-86: #ffffffdb;
  --color-card-76: #ffffffc2;
  --color-card-75: #ffffffbf;
  --color-card-74: #ffffffbd;
  --color-card-72: #ffffffb8;
  --color-card-70: #ffffffb3;
  --color-card-68: #ffffffad;
  --color-card-65: #ffffffa6;
  --color-card-64: #ffffffa3;
  --color-card-62: #ffffff9e;
  --color-card-60: #ffffff99;
  --color-card-58: #ffffff94;
  --color-card-50: #ffffff80;
  --color-border: #cdd7e8;
  --color-border-45: #cdd7e873;
  --color-border-80: #cdd7e8cc;
  --color-border-85: #cdd7e8d9;
  --color-accent: #569ade;
  --color-accent-12: #569ade1f;
  --color-accent-16: #569ade29;
  --color-accent-18: #569ade2e;
  --color-accent-20: #569ade33;
  --color-accent-22: #569ade38;
  --color-accent-24: #569ade3d;
  --color-accent-28: #569ade47;
  --color-accent-30: #569ade4c;
  --color-accent-32: #569ade52;
  --color-accent-35: #569ade59;
  --color-accent-36: #569ade5c;
  --color-accent-38: #569ade61;
  --color-accent-40: #569ade66;
  --color-accent-42: #569ade6b;
  --color-accent-45: #569ade73;
  --color-accent-50: #569ade80;
  --color-accent-55: #569ade8c;
  --color-accent-strong: #3684d2;
  --color-accent-strong-12: #3684d21f;
  --color-accent-strong-14: #3684d224;
  --color-accent-strong-20: #3684d233;
  --color-accent-strong-22: #3684d238;
  --color-accent-strong-26: #3684d242;
  --color-accent-strong-40: #3684d266;
  --color-accent-strong-45: #3684d273;
  --color-ring: #3684d2;
  --color-ring-85: #3684d2d9;
  --color-white: #ffffff;
  --color-white-16: #ffffff29;
  --color-white-18: #ffffff2e;
  --color-white-24: #ffffff3d;
  --color-white-25: #ffffff40;
  --color-white-32: #ffffff52;
  --color-white-40: #ffffff66;
  --color-white-45: #ffffff73;
  --color-white-50: #ffffff80;
  --color-white-55: #ffffff8c;
  --color-white-60: #ffffff99;
  --color-white-62: #ffffff9e;
  --color-white-65: #ffffffa6;
  --color-white-68: #ffffffad;
  --color-white-70: #ffffffb3;
  --color-white-75: #ffffffbf;
  --color-white-78: #ffffffc7;
  --color-white-82: #ffffffd1;
  --color-white-88: #ffffffe0;
  --color-white-90: #ffffffe6;
  --color-white-95: #fffffff2;
  --color-navy: #2a4a7d;
  --color-navy-12: #2a4a7d1f;
  --color-navy-18: #2a4a7d2e;
  --color-navy-30: #2a4a7d4c;
  --color-navy-28: #2a4a7d47;
  --color-navy-32: #2a4a7d52;
  --color-navy-35: #2a4a7d59;
  --color-navy-38: #2a4a7d61;
  --color-navy-42: #2a4a7d6b;
  --color-navy-45: #2a4a7d73;
  --color-navy-55: #2a4a7d8c;
  --shadow-primary: #2a4a7d29;
}

[data-theme='dark'] {
  --color-bg: #060a18;
  --color-fg: #dce8ff;
  --color-muted: #142034;
  --color-muted-foreground: #98aecd;
  --color-card: #0c1626;
  --color-card-12: #0c16261f;
  --color-card-92: #0c1626eb;
  --color-card-90: #0c1626e6;
  --color-card-88: #0c1626e0;
  --color-card-85: #0c1626d9;
  --color-card-82: #0c1626d1;
  --color-card-86: #0c1626db;
  --color-card-78: #0c1626c7;
  --color-card-76: #0c1626c2;
  --color-card-75: #0c1626bf;
  --color-card-74: #0c1626bd;
  --color-card-72: #0c1626b8;
  --color-card-70: #0c1626b2;
  --color-card-68: #0c1626ad;
  --color-card-65: #0c1626a6;
  --color-card-64: #0c1626a3;
  --color-card-62: #0c16269e;
  --color-card-60: #0c162699;
  --color-card-58: #0c162694;
  --color-card-50: #0c162680;
  --color-border: #283e62;
  --color-border-45: #283e6273;
  --color-border-55: #283e628c;
  --color-border-60: #283e6299;
  --color-accent: #2484ff;
  --color-accent-12: #2484ff1f;
  --color-accent-16: #2484ff29;
  --color-accent-18: #2484ff2e;
  --color-accent-20: #2484ff33;
  --color-accent-22: #2484ff38;
  --color-accent-24: #2484ff3d;
  --color-accent-28: #2484ff47;
  --color-accent-30: #2484ff4c;
  --color-accent-32: #2484ff52;
  --color-accent-35: #2484ff59;
  --color-accent-36: #2484ff5c;
  --color-accent-38: #2484ff61;
  --color-accent-40: #2484ff66;
  --color-accent-45: #2484ff73;
  --color-accent-50: #2484ff80;
  --color-accent-55: #2484ff8c;
  --color-accent-strong: #78beff;
  --color-accent-strong-12: #78beff1f;
  --color-accent-strong-14: #78beff24;
  --color-accent-strong-16: #78beff29;
  --color-accent-strong-18: #78beff2e;
  --color-accent-strong-20: #78beff33;
  --color-accent-strong-22: #78beff38;
  --color-accent-strong-24: #78beff3d;
  --color-accent-strong-25: #78beff40;
  --color-accent-strong-26: #78beff42;
  --color-accent-strong-28: #78beff47;
  --color-accent-strong-32: #78beff52;
  --color-accent-strong-50: #78beff80;
  --color-ring: #52a4ff;
  --color-ring-85: #52a4ffd9;
  --shadow-primary: #02061cb7;
  --color-midnight: #02061c;
  --color-midnight-60: #02061c99;
  --color-midnight-65: #02061ca6;
  --color-midnight-68: #02061cad;
  --color-midnight-70: #02061cb2;
  --color-midnight-72: #02061cb8;
  --color-midnight-78: #02061cc7;
  --color-midnight-82: #02061cd1;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --color-bg: #060a18;
    --color-fg: #dce8ff;
    --color-muted: #142034;
    --color-muted-foreground: #98aecd;
    --color-card: #0c1626;
    --color-card-12: #0c16261f;
    --color-card-92: #0c1626eb;
    --color-card-90: #0c1626e6;
    --color-card-88: #0c1626e0;
    --color-card-85: #0c1626d9;
    --color-card-82: #0c1626d1;
    --color-card-86: #0c1626db;
    --color-card-78: #0c1626c7;
    --color-card-76: #0c1626c2;
    --color-card-75: #0c1626bf;
    --color-card-74: #0c1626bd;
    --color-card-72: #0c1626b8;
    --color-card-70: #0c1626b2;
    --color-card-68: #0c1626ad;
    --color-card-65: #0c1626a6;
    --color-card-64: #0c1626a3;
    --color-card-62: #0c16269e;
    --color-card-60: #0c162699;
    --color-card-58: #0c162694;
    --color-card-50: #0c162680;
    --color-border: #283e62;
    --color-border-45: #283e6273;
    --color-border-55: #283e628c;
    --color-border-60: #283e6299;
    --color-accent: #2484ff;
    --color-accent-12: #2484ff1f;
    --color-accent-16: #2484ff29;
    --color-accent-18: #2484ff2e;
    --color-accent-20: #2484ff33;
    --color-accent-22: #2484ff38;
    --color-accent-24: #2484ff3d;
    --color-accent-28: #2484ff47;
    --color-accent-30: #2484ff4c;
    --color-accent-32: #2484ff52;
    --color-accent-35: #2484ff59;
    --color-accent-36: #2484ff5c;
    --color-accent-38: #2484ff61;
    --color-accent-40: #2484ff66;
    --color-accent-45: #2484ff73;
    --color-accent-50: #2484ff80;
    --color-accent-55: #2484ff8c;
    --color-accent-strong: #78beff;
    --color-accent-strong-12: #78beff1f;
    --color-accent-strong-14: #78beff24;
    --color-accent-strong-16: #78beff29;
    --color-accent-strong-18: #78beff2e;
    --color-accent-strong-20: #78beff33;
    --color-accent-strong-22: #78beff38;
    --color-accent-strong-24: #78beff3d;
    --color-accent-strong-25: #78beff40;
    --color-accent-strong-26: #78beff42;
    --color-accent-strong-28: #78beff47;
    --color-accent-strong-32: #78beff52;
    --color-accent-strong-50: #78beff80;
    --color-ring: #52a4ff;
    --color-ring-85: #52a4ffd9;
    --shadow-primary: #02061cb7;
    --color-midnight: #02061c;
    --color-midnight-60: #02061c99;
    --color-midnight-65: #02061ca6;
    --color-midnight-68: #02061cad;
    --color-midnight-70: #02061cb2;
    --color-midnight-72: #02061cb8;
    --color-midnight-78: #02061cc7;
    --color-midnight-82: #02061cd1;
  }

  :root:not([data-theme]) body {
    background-color: var(--color-bg);
    background-image:
      radial-gradient(1200px 720px at 50% -20%, var(--color-accent-20), transparent 70%),
      radial-gradient(960px 680px at 90% 82%, #123a8447, transparent 65%),
      radial-gradient(840px 640px at 10% 80%, #14306c3d, transparent 68%),
      linear-gradient(185deg, #040a18f5, #040a18);
    background-repeat: no-repeat;
    background-size: cover;
  }
}

html {
  min-height: 100vh;
  font-family: 'Peyda', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: var(--color-bg);
}

body {
  min-height: 100vh;
  margin: 0;
  color: var(--color-fg);
  background-color: var(--color-bg);
  background-image:
    radial-gradient(960px 640px at -10% -5%, #accdff52, transparent 60%),
    radial-gradient(880px 600px at 110% 5%, #bcd8ff47, transparent 58%),
    radial-gradient(780px 540px at 48% 110%, #cee6ff38, transparent 65%),
    linear-gradient(180deg, #fffffff2, #f3f7ffe0);
  background-repeat: no-repeat;
  background-size: cover;
  position: relative;
  overflow-x: hidden;
}

[data-theme='dark'] body {
  background-color: var(--color-bg);
  background-image:
    radial-gradient(1200px 720px at 50% -20%, var(--color-accent-20), transparent 70%),
    radial-gradient(960px 680px at 90% 82%, #123a8447, transparent 65%),
    radial-gradient(840px 640px at 10% 80%, #14306c3d, transparent 68%),
    linear-gradient(185deg, #040a18f5, #040a18);
  background-repeat: no-repeat;
  background-size: cover;
}

@media (min-width: 1024px) {
  body {
    background-attachment: fixed;
  }

  [data-theme='dark'] body {
    background-attachment: fixed;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
      radial-gradient(720px 520px at 12% 18%, var(--color-white-16), transparent 55%),
      radial-gradient(820px 560px at 88% 26%, var(--color-white-18), transparent 60%),
      url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"%3E%3Cfilter id="noise" x="0" y="0" width="100%25" height="100%25"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noise)" opacity="0.03"/%3E%3C/svg%3E');
    pointer-events: none;
    mix-blend-mode: screen;
    z-index: -1;
  }

  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background:
      radial-gradient(880px 640px at 18% 16%, var(--color-accent-16), transparent 60%),
      radial-gradient(840px 600px at 84% 66%, var(--color-accent-strong-12), transparent 58%),
      radial-gradient(720px 520px at 50% -15%, #b4d7ff24, transparent 65%);
    mix-blend-mode: lighten;
    pointer-events: none;
    z-index: -2;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground antialiased;
  }

  a {
    @apply text-foreground no-underline;
  }

  ::selection {
    background: var(--color-accent-strong-45);
    color: var(--color-fg);
  }
}

@layer components {
  .glass {
    position: relative;
    border-radius: 2rem;
    border: 1px solid var(--color-white-50);
    background: linear-gradient(155deg, var(--color-white-82), var(--color-white-55));
    box-shadow:
      0 22px 60px -28px var(--color-navy-45),
      inset 0 1px 0 var(--color-white-65),
      inset 0 -1px 0 var(--color-accent-18);
    backdrop-filter: blur(20px) saturate(1.5);
    -webkit-backdrop-filter: blur(20px) saturate(1.5);
    transition:
      box-shadow 400ms cubic-bezier(0.16, 1, 0.3, 1),
      border-color 400ms cubic-bezier(0.16, 1, 0.3, 1),
      backdrop-filter 400ms cubic-bezier(0.16, 1, 0.3, 1),
      transform 400ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  .glass::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    border: 1px solid var(--color-white-65);
    pointer-events: none;
    background: linear-gradient(180deg, var(--color-white-68) 0%, var(--color-white-24) 48%, transparent 100%);
  }

  .glass::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background:
      radial-gradient(480px 280px at 22% 18%, var(--color-accent-22), transparent 58%),
      radial-gradient(520px 300px at 78% 72%, var(--color-accent-strong-20), transparent 64%);
    pointer-events: none;
    opacity: 0;
    filter: saturate(1.1);
    transition: opacity 500ms cubic-bezier(0.16, 1, 0.3, 1), filter 500ms cubic-bezier(0.16, 1, 0.3, 1);
    z-index: -1;
  }

  .glass:hover {
    backdrop-filter: blur(24px) saturate(1.7);
    -webkit-backdrop-filter: blur(24px) saturate(1.7);
    box-shadow:
      0 32px 84px -32px var(--color-navy-55),
      inset 0 1px 0 var(--color-white-70),
      inset 0 -1px 0 var(--color-accent-strong-22),
      0 18px 45px var(--color-accent-22),
      0 0 0 1px var(--color-accent-24);
    transform: translateY(-2px);
  }

  .glass:hover::before {
    background: linear-gradient(180deg, var(--color-white-78) 0%, var(--color-white-32) 50%, var(--color-accent-12) 85%, transparent 100%);
  }

  .glass:hover::after {
    opacity: 1;
    filter: saturate(1.25);
  }

  @media (prefers-reduced-motion: reduce) {
    .glass {
      transition: none;
    }

    .glass::after {
      transition: none;
    }

    .glass:hover::after {
      opacity: 0;
    }
  }

  .glass-pill {
    position: relative;
    border-radius: 9999px;
    border: 1px solid var(--color-white-45);
    background: linear-gradient(145deg, var(--color-white-70), var(--color-white-40));
    box-shadow:
      0 14px 32px -22px var(--color-navy-38),
      inset 0 1px 0 var(--color-white-60);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    transition:
      box-shadow 250ms cubic-bezier(0.16, 1, 0.3, 1),
      border-color 250ms cubic-bezier(0.16, 1, 0.3, 1),
      background 250ms cubic-bezier(0.16, 1, 0.3, 1),
      transform 250ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  .glass-pill:hover {
    border-color: var(--color-accent-strong-40);
    background: linear-gradient(145deg, var(--color-white-78), var(--color-accent-18));
    box-shadow:
      0 22px 42px -26px var(--color-accent-32),
      0 12px 30px -20px var(--color-navy-32);
    transform: translateY(-1px);
  }

  .glass-panel {
    border-radius: 1.5rem;
    border: 1px solid var(--color-border-45);
    background: linear-gradient(160deg, var(--color-card-90), var(--color-card-75));
    box-shadow: 0 28px 70px -32px var(--color-navy-42);
    backdrop-filter: blur(24px) saturate(1.35);
    -webkit-backdrop-filter: blur(24px) saturate(1.35);
    transition:
      background-color 350ms cubic-bezier(0.16, 1, 0.3, 1),
      border-color 350ms cubic-bezier(0.16, 1, 0.3, 1),
      box-shadow 350ms cubic-bezier(0.16, 1, 0.3, 1),
      transform 350ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  .glass-panel--muted {
    background: linear-gradient(160deg, var(--color-card-82), var(--color-card-68));
  }

  .glass-panel--subtle {
    background: var(--color-card-70);
  }

  .glass-panel--compact {
    border-radius: 1.25rem;
  }

  .glass-panel--active {
    border-color: var(--color-accent-40);
    box-shadow: 0 36px 76px -34px var(--color-accent-32);
    transform: translateY(-2px);
  }

  .glass-panel--accent {
    border-color: var(--color-accent-55);
    background: linear-gradient(165deg, var(--color-accent-22), var(--color-card-78));
    color: var(--color-fg);
  }

  .glass-chip {
    border-radius: 1rem;
    border: 1px solid var(--color-border-45);
    background: linear-gradient(145deg, var(--color-card-82), var(--color-card-72));
    color: var(--color-fg);
    box-shadow: 0 16px 32px -26px var(--color-navy-30);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    transition:
      background-color 300ms cubic-bezier(0.16, 1, 0.3, 1),
      border-color 300ms cubic-bezier(0.16, 1, 0.3, 1),
      color 300ms cubic-bezier(0.16, 1, 0.3, 1),
      box-shadow 300ms cubic-bezier(0.16, 1, 0.3, 1),
      transform 300ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  .glass-chip--interactive:hover,
  .glass-chip--interactive:focus-visible {
    border-color: var(--color-accent-45);
    box-shadow: 0 20px 40px -28px var(--color-accent-30);
    transform: translateY(-1px);
  }

  .glass-chip--circle {
    border-radius: 9999px;
    width: 2.25rem;
    height: 2.25rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .glass-chip--muted {
    background: var(--color-card-70);
    color: var(--color-muted-foreground);
  }

  .glass-chip--current {
    border-color: var(--color-accent-42);
    background: var(--color-card-85);
    color: var(--color-fg);
    box-shadow: 0 20px 42px -30px var(--color-accent-36);
  }

  .glass-chip--active {
    border-color: var(--color-accent-50);
    background: var(--color-accent-18);
    color: var(--color-accent-strong);
    box-shadow: 0 24px 48px -32px var(--color-accent-38);
  }

  .glass-chip__meta {
    font-size: 0.7rem;
    color: var(--color-muted-foreground);
  }

  [data-theme='dark'] .glass-pill {
    border-color: var(--color-accent-strong-25);
    background: linear-gradient(145deg, var(--color-card-88), var(--color-card-64));
    box-shadow:
      0 18px 42px -26px var(--color-midnight-72),
      inset 0 1px 0 var(--color-accent-strong-16);
  }

  [data-theme='dark'] .glass-pill:hover {
    border-color: var(--color-accent-strong-50);
    background: linear-gradient(145deg, var(--color-accent-22), var(--color-card-76));
    box-shadow:
      0 28px 52px -28px var(--color-accent-35),
      0 18px 36px -26px var(--color-midnight-68);
  }

  [data-theme='dark'] .glass-panel {
    border-color: var(--color-border-60);
    background: linear-gradient(160deg, var(--color-card-90), var(--color-card-72));
    box-shadow: 0 36px 90px -36px var(--color-midnight-78);
    color: var(--color-fg);
  }

  [data-theme='dark'] .glass-panel--muted {
    background: linear-gradient(160deg, var(--color-card-82), var(--color-card-65));
    color: var(--color-muted-foreground);
  }

  [data-theme='dark'] .glass-panel--subtle {
    background: var(--color-card-60);
  }

  [data-theme='dark'] .glass-panel--accent {
    border-color: var(--color-accent-55);
    background: linear-gradient(170deg, var(--color-accent-22), var(--color-card-74));
    color: var(--color-accent-strong);
  }

  [data-theme='dark'] .glass-panel--active {
    border-color: var(--color-accent-50);
    box-shadow: 0 42px 96px -38px var(--color-accent-40);
  }

  [data-theme='dark'] .glass-chip {
    border-color: var(--color-border-55);
    background: linear-gradient(150deg, var(--color-card-70), var(--color-card-58));
    color: var(--color-fg);
    box-shadow: 0 20px 40px -28px var(--color-midnight-70);
  }

  [data-theme='dark'] .glass-chip--muted {
    background: var(--color-card-50);
    color: var(--color-muted-foreground);
  }

  [data-theme='dark'] .glass-chip--current {
    border-color: var(--color-accent-45);
    background: var(--color-card-62);
    color: var(--color-fg);
    box-shadow: 0 24px 48px -30px var(--color-accent-32);
  }

  [data-theme='dark'] .glass-chip--active {
    border-color: var(--color-accent-50);
    background: var(--color-accent-22);
    color: var(--color-accent-strong);
    box-shadow: 0 30px 56px -32px var(--color-accent-40);
  }

  [data-theme='dark'] .glass {
    border-color: var(--color-accent-strong-22);
    background: linear-gradient(150deg, var(--color-card-92), var(--color-card-74));
    box-shadow:
      0 26px 84px -32px var(--color-midnight-78),
      inset 0 1px 0 var(--color-accent-strong-22),
      inset 0 -1px 0 var(--color-midnight-68);
  }

  [data-theme='dark'] .glass::before {
    border-color: var(--color-accent-strong-20);
    background: linear-gradient(180deg, var(--color-accent-strong-14) 0%, var(--color-card-12) 55%, transparent 100%);
  }

  [data-theme='dark'] .glass::after {
    background:
      radial-gradient(520px 320px at 18% 18%, var(--color-accent-28), transparent 62%),
      radial-gradient(540px 340px at 82% 78%, var(--color-accent-strong-24), transparent 68%);
  }

  [data-theme='dark'] .glass:hover {
    box-shadow:
      0 36px 110px -40px var(--color-midnight-82),
      inset 0 1px 0 var(--color-accent-strong-26),
      inset 0 -1px 0 var(--color-midnight-72),
      0 26px 60px var(--color-accent-28),
      0 0 0 1px var(--color-accent-strong-32);
  }

  [data-theme='dark'] .glass:hover::after {
    filter: saturate(1.4);
  }

  @media (prefers-color-scheme: dark) {
    :root:not([data-theme]) .glass {
      border-color: var(--color-accent-strong-22);
      background: linear-gradient(150deg, var(--color-card-92), var(--color-card-74));
      box-shadow:
        0 26px 84px -32px var(--color-midnight-78),
        inset 0 1px 0 var(--color-accent-strong-22),
        inset 0 -1px 0 var(--color-midnight-68);
    }

    :root:not([data-theme]) .glass::before {
      border-color: var(--color-accent-strong-20);
      background: linear-gradient(180deg, var(--color-accent-strong-14) 0%, var(--color-card-12) 55%, transparent 100%);
    }

    :root:not([data-theme]) .glass::after {
      background:
        radial-gradient(520px 320px at 18% 18%, var(--color-accent-28), transparent 62%),
        radial-gradient(540px 340px at 82% 78%, var(--color-accent-strong-24), transparent 68%);
    }

    :root:not([data-theme]) .glass:hover {
      box-shadow:
        0 36px 110px -40px var(--color-midnight-82),
        inset 0 1px 0 var(--color-accent-strong-26),
        inset 0 -1px 0 var(--color-midnight-72),
        0 26px 60px var(--color-accent-28),
        0 0 0 1px var(--color-accent-strong-32);
    }

    :root:not([data-theme]) .glass:hover::after {
      filter: saturate(1.4);
    }

    :root:not([data-theme]) .glass-pill {
      border-color: var(--color-accent-strong-25);
      background: linear-gradient(145deg, var(--color-card-88), var(--color-card-64));
      box-shadow:
        0 18px 42px -26px var(--color-midnight-72),
        inset 0 1px 0 var(--color-accent-strong-16);
    }

    :root:not([data-theme]) .glass-pill:hover {
      border-color: var(--color-accent-strong-50);
      background: linear-gradient(145deg, var(--color-accent-22), var(--color-card-76));
      box-shadow:
        0 28px 52px -28px var(--color-accent-35),
        0 18px 36px -26px var(--color-midnight-68);
    }

    :root:not([data-theme]) .glass-panel {
      border-color: var(--color-border-60);
      background: linear-gradient(160deg, var(--color-card-90), var(--color-card-72));
      box-shadow: 0 36px 90px -36px var(--color-midnight-78);
      color: var(--color-fg);
    }

    :root:not([data-theme]) .glass-panel--muted {
      background: linear-gradient(160deg, var(--color-card-82), var(--color-card-65));
      color: var(--color-muted-foreground);
    }

    :root:not([data-theme]) .glass-panel--subtle {
      background: var(--color-card-60);
    }

    :root:not([data-theme]) .glass-panel--accent {
      border-color: var(--color-accent-55);
      background: linear-gradient(170deg, var(--color-accent-22), var(--color-card-74));
      color: var(--color-accent-strong);
    }

    :root:not([data-theme]) .glass-panel--active {
      border-color: var(--color-accent-50);
      box-shadow: 0 42px 96px -38px var(--color-accent-40);
    }

    :root:not([data-theme]) .glass-chip {
      border-color: var(--color-border-55);
      background: linear-gradient(150deg, var(--color-card-70), var(--color-card-58));
      color: var(--color-fg);
      box-shadow: 0 20px 40px -28px var(--color-midnight-70);
    }

    :root:not([data-theme]) .glass-chip--muted {
      background: var(--color-card-50);
      color: var(--color-muted-foreground);
    }

    :root:not([data-theme]) .glass-chip--current {
      border-color: var(--color-accent-45);
      background: var(--color-card-62);
      color: var(--color-fg);
      box-shadow: 0 24px 48px -30px var(--color-accent-32);
    }

    :root:not([data-theme]) .glass-chip--active {
      border-color: var(--color-accent-50);
      background: var(--color-accent-22);
      color: var(--color-accent-strong);
      box-shadow: 0 30px 56px -32px var(--color-accent-40);
    }
  }

  .glass-fallback {
    position: relative;
  }

  @supports not ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))) {
    .glass.glass-fallback,
    .glass-fallback .glass {
      background: #fffffff0;
      border: 1px solid var(--color-border-85);
      box-shadow:
        0 20px 48px -28px var(--color-navy-28),
        0 6px 18px var(--color-navy-12);
    }

    [data-theme='dark'] .glass.glass-fallback,
    [data-theme='dark'] .glass-fallback .glass {
      background: var(--color-card-90);
      border: 1px solid var(--color-accent-strong-28);
      box-shadow:
        0 30px 60px -32px var(--color-midnight-78),
        0 10px 28px var(--color-midnight-60);
    }

    @media (prefers-color-scheme: dark) {
      :root:not([data-theme]) .glass.glass-fallback,
      :root:not([data-theme]) .glass-fallback .glass {
        background: var(--color-card-90);
        border: 1px solid var(--color-accent-strong-28);
        box-shadow:
          0 30px 60px -32px var(--color-midnight-78),
          0 10px 28px var(--color-midnight-60);
      }
    }

    .glass.glass-fallback::before,
    .glass.glass-fallback::after,
    .glass-fallback .glass::before,
    .glass-fallback .glass::after {
      display: none;
    }

    .glass.glass-fallback:hover,
    .glass-fallback .glass:hover {
      box-shadow:
        0 26px 58px -30px var(--color-navy-35),
        0 12px 24px var(--color-navy-18);
    }

    [data-theme='dark'] .glass.glass-fallback:hover,
    [data-theme='dark'] .glass-fallback .glass:hover {
      box-shadow:
        0 40px 76px -36px var(--color-midnight-82),
        0 16px 36px var(--color-midnight-65);
    }

    @media (prefers-color-scheme: dark) {
      :root:not([data-theme]) .glass.glass-fallback:hover,
      :root:not([data-theme]) .glass-fallback .glass:hover {
        box-shadow:
          0 40px 76px -36px var(--color-midnight-82),
          0 16px 36px var(--color-midnight-65);
      }
    }

    .glass-fallback .glass-pill {
      background: var(--color-white-90);
      border-color: var(--color-border-80);
      box-shadow: 0 18px 38px -24px var(--color-accent-30);
    }

    [data-theme='dark'] .glass-fallback .glass-pill {
      background: var(--color-card-88);
      border-color: var(--color-accent-strong-32);
      box-shadow: 0 24px 48px -28px var(--color-midnight-70);
    }

    @media (prefers-color-scheme: dark) {
      :root:not([data-theme]) .glass-fallback .glass-pill {
        background: var(--color-card-88);
        border-color: var(--color-accent-strong-32);
        box-shadow: 0 24px 48px -28px var(--color-midnight-70);
      }
    }
  }

  @media (max-width: 1024px) {
    .glass,
    .glass-pill {
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }

    .glass {
      background: var(--color-white-78);
      box-shadow:
        0 14px 36px -22px var(--color-navy-32),
        inset 0 1px 2px var(--color-white-60);
    }

    [data-theme='dark'] .glass {
      background: var(--color-card-86);
      box-shadow:
        0 18px 40px -24px var(--color-midnight-70),
        inset 0 1px 2px var(--color-accent-strong-20);
    }

    .glass-pill {
      background: var(--color-white-62);
    }

    [data-theme='dark'] .glass-pill {
      background: var(--color-card-78);
    }
  }

  @media (prefers-color-scheme: dark) and (max-width: 1024px) {
    :root:not([data-theme]) .glass {
      background: var(--color-card-86);
      box-shadow:
        0 18px 40px -24px var(--color-midnight-70),
        inset 0 1px 2px var(--color-accent-strong-20);
    }

    :root:not([data-theme]) .glass-pill {
      background: var(--color-card-78);
    }
  }

}

@layer utilities {
  .rtl-grid {
    direction: rtl;
  }

  .text-balance {
    text-wrap: balance;
  }

  /* Performance-optimized animations using GPU-accelerated properties only */
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes fade-in-down {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes liquid-morph {
    0%, 100% {
      transform: translate(0, 0) scale(1) rotate(0deg);
    }
    25% {
      transform: translate(30px, -40px) scale(1.1) rotate(10deg);
    }
    50% {
      transform: translate(-20px, 30px) scale(0.95) rotate(-5deg);
    }
    75% {
      transform: translate(40px, -20px) scale(1.05) rotate(15deg);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .animate-fade-in-down {
    animation: fade-in-down 0.4s ease-out;
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.4s ease-out;
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .animate-fade-in,
    .animate-fade-in-up,
    .animate-fade-in-down,
    .animate-slide-in-right {
      animation: none;
      opacity: 1;
      transform: none;
    }

    /* Disable all blob morphing animations */
    * {
      animation-name: none !important;
    }
  }
}

:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-ring-85), 0 0 0 6px var(--color-white-25);
}

button:focus-visible {
  outline: none;
}


